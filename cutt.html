<html><!-- www.cutils.org | Peter Varo | 2014 --><head><link href="http://www.cutils.org/favicon.ico" rel="shortcut icon" type="image/x-icon"/><link href="http://www.cutils.org/favicon.ico" rel="icon" type="image/x-icon"/><title>CUTT Unit Testing Tools</title><meta charset="utf-8"/><link href="css/cdoc.css" rel="stylesheet" type="text/css"/></head><body><div id="column1"><div id="generic"><img src="img/cutils.svg"/><br/><h2><span>MODERN AND LIGHTWEIGHT C UTILITIES</span></h2><p><span>&mdash;</span></p><p><span>DESIGNED BY</span></p><p><span>PETER VARO &copy;2014</span></p><p><span>&mdash;</span></p><br/></div><div id="sidebar"><div><p class="label">Modules:</p></div><br/><a class="toc" href="index.html">CUTILS</a><a class="toc" href="c11.html">C11 Syntax Highlighter</a><a class="toc" href="cref.html">CREF Quick Reference</a><a class="toc" href="cenv.html">CENV Environment Generator</a><a class="toc" href="cdep.html">CDEP Dependeny Graph</a><a class="toc" href="ccom.html">CCOM Comment Scanner</a><a class="toc" href="cver.html">CVER Versioning</a><a class="toc" href="clic.html">CLIC License Comment Generator</a><a class="toc" href="cres.html">CRES External Resources Packer</a><a class="toc" href="capi.html">CAPI Interface</a><a class="toc" href="carg.html">CARG Variadic Argument Macro</a><a class="toc" href="cbug.html">CBUG Debugging &amp; Logging</a><a class="toc" href="cexc.html">CEXC Exception Handling</a><a class="toc" href="cpro.html">CPRO Profiling</a><a class="toc toc_current" href="#">CUTT Unit Testing Tools</a><a class="toc" href="cdar.html">CDAR Dynamic Array</a><a class="toc" href="cstr.html">CSTR Strings</a><a class="toc" href="csll.html">CSLL Single Linked List</a><a class="toc" href="cdll.html">CDLL Double Linked List</a><a class="toc" href="cmap.html">CMAP HashMap</a><a class="toc" href="cfps.html">CFPS Frame Per Second</a><a class="toc" href="ccol.html">CCOL Color Helper</a><a class="toc" href="cdoc.html">CDOC Documenting Tool</a><a class="toc" href="call.html">CALL Include All</a><br/><div><p class="label">Options:</p><br/><a class="toc" href="#user_Name_Mangling">Name Mangling</a></div><br/><div><p class="label">Types:</p><br/><a class="toc" href="#type_Tester">Tester</a></div><br/><div><p class="label">Functions:</p><br/><a class="toc" href="#func_new">new()</a><a class="toc" href="#func_del">del()</a><a class="toc" href="#func_try">try()</a><a class="toc" href="#func_report">report()</a></div></div></div><div id="column2"><div id="content"><h1><span>CUTT | Unit Testing Tools</span></h1><br/><p><span></span><code>cutt</code><span> is a minimal, single header-only unit testing system.
</span></p><br/><div><h2 class="title">Options</h2><div class="entity" id="user_Name_Mangling"><p class="name">Name Mangling</p><br/><p class="info"><span>However </span><code>cutils</code><span> uses very short and expressive function names which
are not confronting with any of the standard library's entities,
sometimes one wants to use some of these function, macro or type
names in one's own project for other purposes. To solve this problem
</span><code>cutils</code><span> provides a macro variable, a flag, to turn on or off the
prefixes of the variable names. By default it is turned off.
</span></p><br/></div><p class="info label">Examples:</p><p class="info note"><span>Each public function or function-like macro, or type name will have the same </span><code>cutils_</code><span> prefix, as follows
:</span></p><br/><pre class="info"><code class="snippet"><span></span><span class="code_functions">report</span><span>();  </span><span class="code_operators">=</span><span></span><span class="code_operators">=</span><span></span><span class="code_operators">=</span><span></span><span class="code_operators">&gt;</span><span>  </span><span class="code_functions">cutils_report</span><span>();
</span></code></pre><br/><p class="info note"><span>One can compile all files or just some of it, defining the variable through the </span><code>-D</code><span> flag of the compiler, like this
:</span></p><br/><pre class="info"><code class="snippet">cc -std=c11 -Wall -DCUTILS_NAMESPACE -c -o filename.o</code></pre><br/><p class="info note"><span>Or one can define this variable before the inclusion of a header file:</span></p><br/><pre class="info"><code class="snippet"><span></span><span class="code_macros">#define</span><span> CUTILS_NAMESPACE
</span><span class="code_macros">#include</span><span> </span><span class="code_operators">&lt;</span><span>cutils</span><span class="code_operators">/</span><span>cutt</span><span class="code_operators">.</span><span>h</span><span class="code_operators">&gt;</span><span>
</span><span class="code_macros">#undef</span><span> CUTILS_NAMESPACE</span></code></pre><br/></div><div><h2 class="title">Types</h2><div class="entity" id="type_Tester"><span class="name">Tester</span><br/><p class="info"><span>This object collects the failure messages and locations.</span></p><br/></div></div><div><h2 class="title">Functions</h2><div class="entity" id="func_new"><p><span class="name">new</span><span class="space_name_arg_paren"> </span><span class="arg_paren">(</span><span class="space_arg_comma_type"> </span><span class="arg_type">Tester **</span><span class="space_arg_type_name"> </span><span class="arg_name">tester</span><span class="space_arg_name_paren"> </span><span class="arg_comma">,</span><span class="space_arg_comma_type"> </span><span class="arg_type">size_t</span><span class="space_arg_type_name"> </span><span class="arg_name">count</span><span class="space_arg_name_paren"> </span><span class="arg_paren">)</span></p><br/><p class="info"><span>Creates a new </span><a class="inline_link" href="#type_Tester"><span></span><code>Tester</code><span></span></a><span> object to the pointer the passed pointer is pointing at. The </span><code>count</code><span> argument indicates the number of </span><a class="inline_link" href="#func_try"><span></span><code>try</code><span></span></a><span> functions calls in the test environment.
</span></p><br/><p class="info return"><span class="label">Return: </span><code class="return_case"><span>void</span></code></p><br/><p class="info label">Examples:</p><p class="info note"><span>The following testing session has two test cases:</span></p><br/><pre class="info"><code class="snippet"><span></span><span class="code_macros">#include</span><span> </span><span class="code_operators">&lt;</span><span>cutils</span><span class="code_operators">/</span><span>cutt</span><span class="code_operators">.</span><span>h</span><span class="code_operators">&gt;</span><span>
</span><span class="code_macros">#include</span><span> </span><span class="code_operators">&lt;</span><span>cutils</span><span class="code_operators">/</span><span>capi</span><span class="code_operators">.</span><span>h</span><span class="code_operators">&gt;</span><span>

</span><span class="code_keywords">static</span><span> </span><span class="code_types">void</span><span>
</span><span class="code_functions">case1</span><span>(Tester </span><span class="code_operators">*</span><span>tester)
{
    </span><span class="code_functions">try</span><span>(tester, </span><span class="code_numbers">1</span><span> </span><span class="code_operators">=</span><span></span><span class="code_operators">=</span><span> </span><span class="code_operators">-</span><span></span><span class="code_numbers">1</span><span>);
}

</span><span class="code_keywords">static</span><span> </span><span class="code_types">void</span><span>
</span><span class="code_functions">case2</span><span>(Tester </span><span class="code_operators">*</span><span>tester)
{
    </span><span class="code_functions">try</span><span>(tester, </span><span class="code_numbers">1</span><span> </span><span class="code_operators">&gt;</span><span></span><span class="code_operators">=</span><span> </span><span class="code_operators">-</span><span></span><span class="code_numbers">1</span><span>);
}

</span><span class="code_types">int</span><span> </span><span class="code_functions">main</span><span>(</span><span class="code_types">void</span><span>)
{
    Tester </span><span class="code_operators">*</span><span>tester;
    </span><span class="code_functions">new</span><span>(</span><span class="code_operators">&amp;</span><span>tester, </span><span class="code_numbers">2</span><span>);
    
    </span><span class="code_functions">case1</span><span>(tester);
    </span><span class="code_functions">case2</span><span>(tester);
    
    </span><span class="code_functions">report</span><span>(tester);
    </span><span class="code_functions">del</span><span>(tester);
    
    </span><span class="code_keywords">return</span><span> </span><span class="code_numbers">0</span><span>;
}
</span></code></pre><br/><p class="info note"><span>OUTPUT:</span></p><br/><pre class="info"><code class="snippet">CUTT: Some tests (1 / 2) failed:
CUTT: in file: 'main.c', at line: 7: '1 == -1'</code></pre><br/><p class="info note"><span>If all tests passed, the OUTPUT is::</span></p><br/><pre class="info"><code class="snippet">CUTT: All tests (10 / 10) passed.</code></pre><br/></div><div class="entity" id="func_del"><p><span class="name">del</span><span class="space_name_arg_paren"> </span><span class="arg_paren">(</span><span class="space_arg_comma_type"> </span><span class="arg_type">Tester *</span><span class="space_arg_type_name"> </span><span class="arg_name">tester</span><span class="space_arg_name_paren"> </span><span class="arg_paren">)</span></p><br/><p class="info"><span>Removes the previously created </span><a class="inline_link" href="#type_Tester"><span></span><code>Tester</code><span></span></a><span> object.
</span><br/><span></span><br/><span>
</span><i><span>To see it in action, take a look at the example of the
the </span><a class="inline_link" href="#func_new"><span></span><code>new</code><span></span></a><span> function.</span></i><span>
</span></p><br/><p class="info return"><span class="label">Return: </span><code class="return_case"><span>void</span></code></p><br/></div><div class="entity" id="func_try"><p><span class="name">try</span><span class="space_name_arg_paren"> </span><span class="arg_paren">(</span><span class="space_arg_comma_type"> </span><span class="arg_type">Tester *</span><span class="space_arg_type_name"> </span><span class="arg_name">tester</span><span class="space_arg_name_paren"> </span><span class="arg_comma">,</span><span class="space_arg_comma_type"> </span><span class="arg_type">bool</span><span class="space_arg_type_name"> </span><span class="arg_name">expression</span><span class="space_arg_name_paren"> </span><span class="arg_paren">)</span></p><br/><p class="info"><span>Tests if the passed </span><code>expression</code><span> evaluates to </span><code>true</code><span> or </span><code>false</code><span>. If
fails, stores the expression, and location of the expression in the
</span><a class="inline_link" href="#type_Tester"><span></span><code>Tester</code><span></span></a><span> object.
</span><br/><span></span><br/><span>
</span><i><span>To see it in action, take a look at the example of the
the </span><a class="inline_link" href="#func_new"><span></span><code>new</code><span></span></a><span> function.</span></i><span>
</span></p><br/><p class="info return"><span class="label">Return: </span><code class="return_case"><span>void</span></code></p><br/></div><div class="entity" id="func_report"><p><span class="name">report</span><span class="space_name_arg_paren"> </span><span class="arg_paren">(</span><span class="space_arg_comma_type"> </span><span class="arg_type">Tester *</span><span class="space_arg_type_name"> </span><span class="arg_name">tester</span><span class="space_arg_name_paren"> </span><span class="arg_paren">)</span></p><br/><p class="info"><span>Get all th einformations from the </span><a class="inline_link" href="#type_Tester"><span></span><code>Tester</code><span></span></a><span> object, and
prints out the result of the test-session.
</span><br/><span></span><br/><span>
</span><i><span>To see it in action, take a look at the example of the
the </span><a class="inline_link" href="#func_new"><span></span><code>new</code><span></span></a><span> function.</span></i><span>
</span></p><br/><p class="info return"><span class="label">Return: </span><code class="return_case"><span>void</span></code></p><br/></div></div></div></div></body></html>