<html><!-- www.cutils.org | Peter Varo | 2014 --><head><link href="http://www.cutils.org/favicon.ico" rel="shortcut icon" type="image/x-icon"/><link href="http://www.cutils.org/favicon.ico" rel="icon" type="image/x-icon"/><title>CUTILS</title><meta charset="utf-8"/><link href="css/cdoc.css" rel="stylesheet" type="text/css"/></head><body><div id="column1"><div id="generic"><img src="img/cutils.svg"/><br/><h2><span>MODERN AND LIGHTWEIGHT C UTILITIES</span></h2><p><span>&mdash;</span></p><p><span>DESIGNED BY</span></p><p><span>PETER VARO &copy;2014</span></p><p><span>&mdash;</span></p><br/></div><div id="sidebar"><div><p class="label">Modules:</p></div><br/><a class="toc toc_current" href="#">CUTILS</a><a class="toc" href="c11.html">C11 Syntax Highlighter</a><a class="toc" href="cref.html">CREF Quick Reference</a><a class="toc" href="cenv.html">CENV Environment Generator</a><a class="toc" href="cdep.html">CDEP Dependeny Graph</a><a class="toc" href="ccom.html">CCOM Comment Scanner</a><a class="toc" href="cver.html">CVER Versioning</a><a class="toc" href="clic.html">CLIC License Comment Generator</a><a class="toc" href="cres.html">CRES External Resources Packer</a><a class="toc" href="capi.html">CAPI Interface</a><a class="toc" href="carg.html">CARG Variadic Argument Macro</a><a class="toc" href="cbug.html">CBUG Debugging &amp; Logging</a><a class="toc" href="cexc.html">CEXC Exception Handling</a><a class="toc" href="cpro.html">CPRO Profiling</a><a class="toc" href="cutt.html">CUTT Unit Testing Tools</a><a class="toc" href="cdar.html">CDAR Dynamic Array</a><a class="toc" href="cstr.html">CSTR Strings</a><a class="toc" href="csll.html">CSLL Singly Linked List</a><a class="toc" href="cdll.html">CDLL Doubly Linked List</a><a class="toc" href="cmap.html">CMAP HashMap</a><a class="toc" href="cfps.html">CFPS Frame Per Second</a><a class="toc" href="ccol.html">CCOL Color Helper</a><a class="toc" href="cdoc.html">CDOC Documenting Tool</a><a class="toc" href="call.html">CALL Include All</a><br/><div><p class="label">Getting Started:</p><br/><a class="toc" href="#text_Dependencies">Dependencies</a><a class="toc" href="#text_Setup_Configure">Setup/Configure</a><a class="toc" href="#text_Install">Install</a><a class="toc" href="#text_Create_environment">Create environment</a><a class="toc" href="#text_Write_test">Write test</a><a class="toc" href="#text_Run_test">Run test</a></div><br/><div><p class="label">Important Notes:</p><br/><a class="toc" href="#text_Error_signals">Error signals</a></div><br/><div><p class="label">About:</p><br/><a class="toc" href="#user_LICENSE">LICENSE</a></div><br/></div></div><div id="column2"><div id="content"><h1><span>C Utilities</span></h1><br/><p class="info"><span></span><code>cutils</code><span> </span><i><span>(C Utilities)</span></i><span> is a collection of simple, modern and
truly powerful tools to make one's life a little easier when
programming in C. The utilities were created mostly to fulfill the
personal needs of the author, however he hopes and believes many
will find the tools just as useful and essential as he does.
</span></p><br/><p class="info"><span></span><b><span>The current version is 0.8.96, which can be downloaded from the
</span><a class="inline_link" href="http://github.com/petervaro/cutils"><span>GitHub Repository</span></a><span> of the
project.</span></b><span>
</span></p><br/><p class="info"><span></span><b><span>W A R N I N G!</span></b><span> </span><code>cutils</code><span> is under heavy development, although
it is regularly tested under Windows, Mac OS and Linux as well.
But it is very likely that some of the features are not or poorly
documented (example: they have been updated, since the last time
the documentation had been written), so if possible, always check
the source along with the documentation. The status of the project
can be seen in the following progress-bars:
</span></p><br/><img alt="progress bars" src="img/progress.svg" style="display: inline; padding-left: 24pt; padding-bottom: 24pt;" title="project progress"/><br/><div><h2 class="title">Getting Started</h2><div class="entity" id="text_Dependencies"><p class="name">Dependencies</p><br/><p class="info"><span>To setup and use cutils, you will need a C compiler which supports
the C11 standard and a Python 3.4.1+ installation.
</span></p><br/></div><div class="entity" id="text_Setup_Configure"><p class="name">Setup/Configure</p><br/><p class="info"><span>To use the tools of </span><code>cutils</code><span>, you have to configure the </span><code>makefile</code><span>
of the project. It is a quite easy thing to do, all you have to do
is set eight variables and that is all.
</span><br/><span></span><br/><span>
The usage of the first four variables are pretty self explanatory:
if you want one of the options to be active -- for convenience -- a
</span><code>true</code><span> value needs to be set to the variable.
</span><br/><span></span><br/><span>
</span><code>IS_OPTIMISED</code><span> means, that all the bound-checkings, exception
handlings, and </span><i><span>extra</span></i><span> features will be turned off, and the library
will be be compiled at </span><code>-O3</code><span> optimisation level.
</span><br/><span></span><br/><span>
</span><code>USE_JEMALLOC</code><span> means, that </span><code>cutils</code><span> will use </span><code>jemalloc</code><span> (it is a 3rd
party dependency, you have to install it separately) during all the
memory allocation processes the library has.
</span><br/><span></span><br/><span>
</span><code>EXCEPTION_LOG</code><span> means, that the raised exceptions won't be stored
separately in the handler object and won't be available through the
calling of the </span><code>catch</code><span> function, instead all exceptions right after
they had been raised will be written to the file-stream defined by
the </span><code>start_exception_handling</code><span> function.
</span><br/><span></span><br/><span>
</span><code>DYNAMIC_LIB</code><span> means, that a </span><code>.dll</code><span> on Windows, a </span><code>.dylib</code><span> on a Mac
and a </span><code>.so</code><span> on a Linux dynamic library will be compiled instead of
the static object archive (</span><code>.a</code><span>).
</span><br/><span></span><br/><span>
</span><i><span>Example configuration:</span></i><span>
</span></p><br/><pre class="info"><code class="snippet">IS_OPTIMISED=
USE_JEMALLOC=true
EXCEPTION_LOG=true
DYNAMIC_LIB=</code></pre><br/></div><div class="anonym_entity"><br/><p class="info"><span>The following variables will set the places where the header files
and libraries will be copied. Also specifies where the command-line
tools will be copied (sym-linked).
</span><br/><span></span><br/><span>
</span><i><span>Example configuration:</span></i><span>
</span></p><br/><pre class="info"><code class="snippet">INCLUDE_FOLDER=/usr/local/include
LIBRARY_FOLDER=/usr/local/lib
BINARY_FOLDER=/usr/local/bin</code></pre><br/></div><div class="anonym_entity"><br/><p class="info"><span>The following variables will set which compiler and which python
executable to use to build </span><code>cutils</code><span>.
</span><br/><span></span><br/><span>
</span><i><span>Example configuration:</span></i><span>
</span></p><br/><pre class="info"><code class="snippet">CC=gcc
PYTHON=/usr/local/bin/python3</code></pre><br/></div><div class="entity" id="text_Install"><p class="name">Install</p><br/><p class="info"><span>Now, that everything is setup, there is only one step left: invoke the </span><code>makefile</code><span>. On some sytems you may need </span><code>super-user</code><span> privileges, so you have to use the </span><code>sudo</code><span> before the commands if the system is complaining about permissions.
</span></p><br/><pre class="info"><code class="snippet">$ make
$ make install</code></pre><br/></div><div class="entity" id="text_Create_environment"><p class="name">Create environment</p><br/><p class="info"><span>If everything went fine, not only the modules and libs, but also all
the command line utilities were installed as well. To test if that
is true, you have to navigate to your </span><code>Documents</code><span> folder (or any
other folder you prefer to build a project in) and run the following
commands:
</span></p><br/><pre class="info"><code class="snippet">$ cenv my_test_env my_test -cutils
$ cd my_test_env</code></pre><br/></div><div class="entity" id="text_Write_test"><p class="name">Write test</p><br/><p class="info"><span>Now you can open </span><code>my_test.c</code><span> inside the </span><code>my_test_env</code><span> folder with your favourite text-editor of choice. Replace the automatically generated code block with the following lines:
</span></p><br/><pre class="info"><code class="snippet"><span></span><span class="code_macros">#include</span><span> </span><span class="code_operators">&lt;</span><span>stdio</span><span class="code_operators">.</span><span>h</span><span class="code_operators">&gt;</span><span>        </span><span class="code_comments">/* stdout */</span><span>
</span><span class="code_macros">#define</span><span> CEXC_SET
</span><span class="code_macros">#include</span><span> </span><span class="code_operators">&lt;</span><span>cutils</span><span class="code_operators">/</span><span>call</span><span class="code_operators">.</span><span>h</span><span class="code_operators">&gt;</span><span>

</span><span class="code_types">int</span><span> </span><span class="code_functions">main</span><span>(</span><span class="code_types">void</span><span>)
{
    </span><span class="code_functions">start_exception_handling</span><span>(</span><span class="code_constants">stdout</span><span>);
    
    DynamicArray_char_ptr </span><span class="code_operators">*</span><span>dynarr;
    </span><span class="code_functions">new</span><span>(</span><span class="code_operators">&amp;</span><span>dynarr, </span><span class="code_numbers">3</span><span>, ((</span><span class="code_types">char</span><span></span><span class="code_operators">*</span><span>[]){</span><span class="code_strings">"The best way to predict the"</span><span>
                               </span><span class="code_strings">" future is to invent it."</span><span>,
                               </span><span class="code_strings">"--"</span><span>, </span><span class="code_strings">"Alan Kay"</span><span>}));
    
    </span><span class="code_keywords">for</span><span> (</span><span class="code_types">size_t</span><span> i</span><span class="code_operators">=</span><span></span><span class="code_numbers">0</span><span>; i</span><span class="code_operators">&lt;</span><span></span><span class="code_functions">len</span><span>(dynarr); i</span><span class="code_operators">+</span><span></span><span class="code_operators">+</span><span>)
        </span><span class="code_functions">debug</span><span>(</span><span class="code_strings">"%s\n"</span><span>, </span><span class="code_functions">get</span><span>(dynarr, i));
    
    </span><span class="code_functions">del</span><span>(dynarr);
    </span><span class="code_functions">stop_exception_handling</span><span>();
    
    </span><span class="code_keywords">return</span><span> </span><span class="code_numbers">0</span><span>;
}
</span></code></pre><br/></div><div class="entity" id="text_Run_test"><p class="name">Run test</p><br/><p class="info"><span>Now you can run this code with the generated </span><code>makefile</code><span>:
</span></p><br/><pre class="info"><code class="snippet">$ make
$ ./build/my_test</code></pre><br/></div></div><div><h2 class="title">Important Notes</h2><div class="entity" id="text_Error_signals"><p class="name">Error signals</p><br/><p class="info"><span>Why the error-signal of functions on success is a value that can be
evaluated to 'true' and if 'false' if failes? Wouldn't it be easier
to write the explicit error checking like:
</span></p><br/><pre class="info"><code class="snippet"><span></span><span class="code_keywords">if</span><span> (some_method) </span><span class="code_keywords">return</span><span> </span><span class="code_constants">EXIT_FAILURE</span><span>;</span></code></pre><br/></div><div class="anonym_entity"><br/><p class="info"><span>instead of:</span></p><br/><pre class="info"><code class="snippet"><span></span><span class="code_keywords">if</span><span> (</span><span class="code_operators">!</span><span>some_method) </span><span class="code_keywords">return</span><span> </span><span class="code_constants">EXIT_FAILURE</span><span>;</span></code></pre><br/></div><div class="anonym_entity"><br/><p class="info"><span>1) Most of the container-manipulation methods return the number
of items they have manipulated, which evaluates to 'true' on success
and 'false' on fail. So it makes more convenient and straightforward
to use this kind of pattern in all cutils functions and methods
</span><br/><span></span><br/><span>
2) it is more intuitive to return 'false' on failure than 'true'
</span></p><br/></div></div><div><h2 class="title">About</h2><div class="entity" id="user_LICENSE"><p class="name">LICENSE</p><br/><p class="info"><span></span><code>cutils</code><span> is and always will be a free a software.
</span><br/><span></span><br/><span>
Copyright &copy; 2014 Peter Varo
</span><br/><span></span><br/><span>
Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use, copy,
modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
</span><br/><span></span><br/><span>
The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
</span><br/><span></span><br/><span>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
</span></p><br/></div></div></div></div></body></html>